#!/bin/bash
# Thin wrapper around superset command
CONTAINER_IMAGE={{ superset_farm_image }}
SUPERSET_CONFIG_MOUNT={{ instance_work_dir }}/docker/pythonpath
ENV_FILE={{ instance_work_dir }}/docker/.env

docker run \
  --rm \
  --env-file $ENV_FILE \
  --volume ${SUPERSET_CONFIG_MOUNT}:/app/docker/pythonpath:ro \
  --interactive \
  --tty \
  ${CONTAINER_IMAGE} \
  superset $*
